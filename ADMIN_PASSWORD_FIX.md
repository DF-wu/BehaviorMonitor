# ç®¡ç†å“¡å¯†ç¢¼ç™»å…¥å•é¡Œä¿®å¾©

## ğŸ› å•é¡Œæè¿°

ç®¡ç†å“¡ç„¡æ³•ä½¿ç”¨å¯†ç¢¼ç™»å…¥ç³»çµ±ï¼Œå¯èƒ½çš„åŸå› ï¼š
1. Firebase è¨­å®šæ–‡æª”ä¸å­˜åœ¨
2. è¨­å®šåˆå§‹åŒ–é‚è¼¯éŒ¯èª¤
3. å¯†ç¢¼é©—è­‰é‚è¼¯å•é¡Œ

## ğŸ”§ ä¿®å¾©å…§å®¹

### 1. ä¿®å¾© Firebase æœå‹™å±¤
**æ–‡ä»¶**: `src/services/firebaseService.ts`

**å•é¡Œ**: `initializeDefaultSettings` å‡½æ•¸ä½¿ç”¨ `updateDoc` å˜—è©¦æ›´æ–°ä¸å­˜åœ¨çš„æ–‡æª”
**ä¿®å¾©**: æ”¹ç”¨ `setDoc` ä¾†å‰µå»ºæ–°æ–‡æª”

```typescript
// ä¿®å¾©å‰
await updateDoc(docRef, { ... }); // æœƒå¤±æ•—ï¼Œå› ç‚ºæ–‡æª”ä¸å­˜åœ¨

// ä¿®å¾©å¾Œ  
await setDoc(docRef, { ... }); // æ­£ç¢ºå‰µå»ºæ–°æ–‡æª”
```

### 2. æ·»åŠ èª¿è©¦å·¥å…·
**æ–‡ä»¶**: `debug-admin-password.html`

æä¾›å®Œæ•´çš„ç®¡ç†å“¡å¯†ç¢¼èª¿è©¦å’Œç®¡ç†å·¥å…·ï¼š
- æª¢æŸ¥ Firebase é€£æ¥ç‹€æ…‹
- æŸ¥çœ‹ç•¶å‰è¨­å®š
- åˆå§‹åŒ–é è¨­è¨­å®š
- æ¸¬è©¦å’Œé‡ç½®å¯†ç¢¼
- è³‡æ–™åº«æ“ä½œå·¥å…·

## ğŸš€ è§£æ±ºæ–¹æ¡ˆ

### æ–¹æ³• 1: ä½¿ç”¨èª¿è©¦å·¥å…·ï¼ˆæ¨è–¦ï¼‰

1. **æ‰“é–‹èª¿è©¦å·¥å…·**:
   ```bash
   # åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹
   open debug-admin-password.html
   ```

2. **æŒ‰é †åºåŸ·è¡Œ**:
   - é»æ“Šã€Œæª¢æŸ¥ Firebase é€£æ¥ã€
   - é»æ“Šã€Œæª¢æŸ¥ç•¶å‰è¨­å®šã€
   - å¦‚æœæ²’æœ‰è¨­å®šï¼Œé»æ“Šã€Œåˆå§‹åŒ–é è¨­è¨­å®šã€
   - ä½¿ç”¨ã€Œæ¸¬è©¦å¯†ç¢¼ã€é©—è­‰ï¼ˆé è¨­ï¼šadmin123ï¼‰

### æ–¹æ³• 2: æ‰‹å‹•é‡ç½®

1. **å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼**:
   ```bash
   npm run dev
   ```

2. **åœ¨ç€è¦½å™¨æ§åˆ¶å°åŸ·è¡Œ**:
   ```javascript
   // æª¢æŸ¥ Firebase é€£æ¥
   import { db } from './src/config/firebase.js';
   import { doc, setDoc, serverTimestamp } from 'firebase/firestore';
   
   // é‡ç½®ç®¡ç†å“¡è¨­å®š
   const settingsDoc = doc(db, 'settings', 'main');
   await setDoc(settingsDoc, {
     initialScore: 100,
     dailyIncrement: 1,
     notificationThreshold: 50,
     adminPassword: 'admin123',
     createdAt: serverTimestamp(),
     updatedAt: serverTimestamp()
   });
   
   console.log('è¨­å®šå·²é‡ç½®ï¼Œç®¡ç†å“¡å¯†ç¢¼ï¼šadmin123');
   ```

### æ–¹æ³• 3: ç›´æ¥åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­ä¿®å¾©

1. æ‰“é–‹æ‡‰ç”¨ç¨‹å¼
2. å˜—è©¦ç™»å…¥ï¼ˆæœƒè§¸ç™¼è¨­å®šåˆå§‹åŒ–ï¼‰
3. ä½¿ç”¨é è¨­å¯†ç¢¼ï¼š`admin123`

## âœ… é©—è­‰ä¿®å¾©

### 1. æª¢æŸ¥è¨­å®šæ˜¯å¦å­˜åœ¨
```javascript
// åœ¨ç€è¦½å™¨æ§åˆ¶å°
import { db } from './src/config/firebase.js';
import { doc, getDoc } from 'firebase/firestore';

const settingsDoc = doc(db, 'settings', 'main');
const docSnap = await getDoc(settingsDoc);
console.log('è¨­å®šå­˜åœ¨:', docSnap.exists());
console.log('è¨­å®šå…§å®¹:', docSnap.data());
```

### 2. æ¸¬è©¦ç™»å…¥åŠŸèƒ½
1. æ‰“é–‹æ‡‰ç”¨ç¨‹å¼
2. é»æ“Šå³ä¸‹è§’çš„è¨­å®šæŒ‰éˆ•
3. è¼¸å…¥å¯†ç¢¼ï¼š`admin123`
4. æ‡‰è©²èƒ½æˆåŠŸé€²å…¥ç®¡ç†ä»‹é¢

## ğŸ”‘ é è¨­è¨­å®š

ä¿®å¾©å¾Œçš„é è¨­è¨­å®šï¼š
- **ç®¡ç†å“¡å¯†ç¢¼**: `admin123`
- **åˆå§‹åˆ†æ•¸**: `100`
- **æ¯æ—¥å¢åŠ **: `1`
- **é€šçŸ¥é–€æª»**: `50`

## ğŸ›  æŠ€è¡“ç´°ç¯€

### Firebase æ–‡æª”æ“ä½œå·®ç•°

| æ“ä½œ | ç”¨é€” | æ–‡æª”å­˜åœ¨è¦æ±‚ |
|------|------|-------------|
| `setDoc()` | å‰µå»ºæˆ–è¦†è“‹æ–‡æª” | ä¸éœ€è¦ |
| `updateDoc()` | æ›´æ–°ç¾æœ‰æ–‡æª” | å¿…é ˆå­˜åœ¨ |
| `addDoc()` | å‰µå»ºæ–°æ–‡æª”ï¼ˆè‡ªå‹•IDï¼‰ | ä¸éœ€è¦ |

### éŒ¯èª¤è™•ç†æ”¹é€²

```typescript
// æ·»åŠ äº†æ›´è©³ç´°çš„éŒ¯èª¤æ—¥èªŒ
try {
  await setDoc(docRef, defaultSettings);
  console.log('Default settings initialized successfully');
} catch (error) {
  console.error('Error initializing settings:', error);
  throw new Error('ç„¡æ³•åˆå§‹åŒ–ç³»çµ±è¨­å®š');
}
```

## ğŸ“‹ å¾ŒçºŒç¶­è­·

### å®šæœŸæª¢æŸ¥
1. ç¢ºèª Firebase å°ˆæ¡ˆç‹€æ…‹
2. æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡
3. é©—è­‰ç®¡ç†å“¡å¯†ç¢¼åŠŸèƒ½

### å¯†ç¢¼ç®¡ç†å»ºè­°
1. å®šæœŸæ›´æ›ç®¡ç†å“¡å¯†ç¢¼
2. ä½¿ç”¨å¼·å¯†ç¢¼
3. ä¸è¦åœ¨ä»£ç¢¼ä¸­ç¡¬ç·¨ç¢¼å¯†ç¢¼

### ç›£æ§è¦é»
- Firebase é€£æ¥ç‹€æ…‹
- è¨­å®šæ–‡æª”å®Œæ•´æ€§
- ç™»å…¥æˆåŠŸç‡

## ğŸ¯ ç¸½çµ

ä¿®å¾©å®Œæˆå¾Œï¼š
- âœ… Firebase è¨­å®šåˆå§‹åŒ–é‚è¼¯æ­£ç¢º
- âœ… ç®¡ç†å“¡å¯†ç¢¼åŠŸèƒ½æ­£å¸¸
- âœ… æä¾›å®Œæ•´çš„èª¿è©¦å·¥å…·
- âœ… æ·»åŠ è©³ç´°çš„éŒ¯èª¤è™•ç†

**é è¨­ç®¡ç†å“¡å¯†ç¢¼**: `admin123`

å¦‚æœä»æœ‰å•é¡Œï¼Œè«‹ä½¿ç”¨ `debug-admin-password.html` å·¥å…·é€²è¡Œè¨ºæ–·å’Œä¿®å¾©ã€‚
